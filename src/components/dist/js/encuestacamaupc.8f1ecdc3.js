(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["encuestacamaupc"],{"238b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("EncuestasHtml",{attrs:{datoEncuesta:t.datos,encuesta_id:t.encuesta_id}})],1)},r=[],n=s("2b0e"),i=s("417f"),o=n["default"].extend({name:"EncuestaUPC",components:{EncuestasHtml:i["a"]},props:{datoEncuesta:{type:Array}},data(){return{encuesta_id:3,datos:[]}}}),u=o,l=s("2877"),c=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=c.exports},"417f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{idencuesta:t.encuesta_id}},[1!=t.formulario?s("div",{attrs:{formulario:t.formulario}},[s("b-alert",{staticClass:" m-5 py-5 display-1 text-center",attrs:{show:"",variant:"info"}},[s("h4",{staticClass:"alert-heading"},[s("b",[t._v("Esta encuesta ya fue contestada!")])]),s("hr"),s("p",{staticClass:"mb-0"},[t._v(" Recuerda que las encuestas deben contestarse dentro del horario establecido para cada encuesta. ")])])],1):s("div",[s("form",{attrs:{method:"post",id:"formulario",novalidate:"true"},on:{submit:function(e){return e.preventDefault(),t.postEncuesta(e)}}},[s("main",{staticClass:"container",attrs:{datos:t.datos,id:t.datos.encuesta_id}},[s("div",{staticClass:"row mt-4"},[s("h1",{staticClass:"text-uppercase pt-4 text-center"},[t._v(" "+t._s(t.datos.encuesta_nombre)+" ")]),s("hr",{staticClass:"double"})]),s("div",{staticClass:"container-fluid mb-5"},[s("div",{staticClass:"cuadro-glosa"},[s("h3",[t._v(t._s(t.datos.encuesta_remitente))]),s("br"),s("p",{ref:"glosa",domProps:{innerHTML:t._s(t.datos.encuesta_texto_inicio)}})])]),s("div",{staticClass:"border"},[t._l(t.datos.grupo_preguntas,(function(e,a){return s("div",{key:a,staticClass:"container-fluid mb-5",attrs:{id:e.grupo_id}},[s("div",{staticClass:"mb-3"},[s("h3",{staticClass:"text-uppercase mb-4 p-1 h3_formulario",attrs:{id:"grupo["+e.grupo_id+"]"}},[t._v(t._s(e.grupo_nombre))]),s("div",t._l(e.preguntas,(function(e,a){return s("div",{key:a,attrs:{id:e.pregunta_id}},[t._v(" "+t._s(e.orden_pregunta)+". "+t._s(e.pregunta_glosa)+" "),null!=e.pregunta_ayuda?s("i",{staticClass:"fas fa-question-circle",on:{click:function(s){return t.toggleAnswer(e.pregunta_id)}}}):t._e(),s("p",{directives:[{name:"show",rawName:"v-show",value:t.togglerAnswer&&t.toggledAnswerIndex===e.pregunta_id,expression:"togglerAnswer && toggledAnswerIndex===pregunta.pregunta_id"}],staticClass:"my-4 p-3 ayuda_texto"},[t._v(" "+t._s(e.pregunta_ayuda)+" ")]),s("div",{staticClass:"row mt-3 mb-5"},t._l(e.respuestas,(function(a,r){return s("div",{key:r,staticClass:"col-12 col-sm-4",attrs:{id:"respuestas",orderBy:a.pregunta_orden}},[null!=a.respuesta_glosa?s("label",{staticClass:"form-label",attrs:{id:a.respuesta_id}},[t._v(t._s(a.respuesta_glosa))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:a.valor_respuesta,expression:"respuesta.valor_respuesta"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Ingrese la cantidad solicitada",name:e.pregunta_id,id:a.respuesta_id,required:"","error-messages":t.errors},domProps:{value:a.valor_respuesta},on:{input:function(e){e.target.composing||t.$set(a,"valor_respuesta",e.target.value)}}})])})),0)])})),0)])])})),s("div",{staticClass:"row"},[s("div",{staticClass:"col text-center"},[(t.submitted,s("b-alert",{attrs:{variant:t.alertVariant,show:""}},[t._v(t._s(this.text)+" ")])),t._m(0),s("p",{staticClass:"output"})],1)])],2)])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[s("i",{staticClass:"fas fa-paper-plane mr-2"}),t._v(" Publicar ")])}],n=s("2b0e"),i=s("bc3a"),o=s.n(i),u=s("216c"),l=n["default"].extend({name:"EncuestasHtml",components:{Nav:u["a"]},data(){return{datos:{},url:"",path:[],formulario:null,text:"",alertVariant:"",respuesta:{valor_respuesta:null},idencuesta:null,reinicioEncuesta:[],errors:[],submitted:!1,valor_respuesta:null,togglerAnswer:!1,toggledAnswerIndex:{},grupo_id:null}},props:{encuesta_id:{type:Number,required:!0}},methods:{async getEncuesta(){o()({method:"post",url:"http://192.168.60.105:3007/ugcc-encuestas/encuesta",data:{id:this.encuesta_id}}).then(t=>{this.datos=t.data.body,this.formulario=t.data.ok})},async postEncuesta(t){await o.a.post("http://192.168.60.105:3007/ugcc-encuestas/guardar-encuesta",this.datos).then(t=>{setTimeout(()=>this.$router.push({path:"/"}),1e3),this.alertVariant="success",this.text="Envío Exitoso!",console.warn(t)}).catch(t=>{this.alertVariant="danger",this.text="Error en el envío",console.warn(t)}),t.preventDefault()},toggleAnswer(t){this.togglerAnswer?(this.togglerAnswer=!1,this.toggledAnswerIndex=-1):(this.togglerAnswer=!0,this.toggledAnswerIndex=t)}},mounted(){this.getEncuesta()}}),c=l,d=(s("60d3"),s("2877")),p=Object(d["a"])(c,a,r,!1,null,"77088da5",null);e["a"]=p.exports},"60d3":function(t,e,s){"use strict";s("a1b9")},a1b9:function(t,e,s){}}]);
//# sourceMappingURL=encuestacamaupc.8f1ecdc3.js.map