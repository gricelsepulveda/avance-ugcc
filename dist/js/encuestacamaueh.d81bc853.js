(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["encuestacamaueh"],{"159b":function(t,e,n){var r=n("da84"),a=n("fdbc"),o=n("17c2"),c=n("9112");for(var i in a){var s=r[i],u=s&&s.prototype;if(u&&u.forEach!==o)try{c(u,"forEach",o)}catch(l){u.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,a=n("a640"),o=a("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,n){"use strict";var r=n("23e7"),a=n("5a34"),o=n("1d80"),c=n("ab13");r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(o(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"277d":function(t,e,n){var r=n("23e7"),a=n("e8b5");r({target:"Array",stat:!0},{isArray:a})},4160:function(t,e,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"44e7":function(t,e,n){var r=n("861d"),a=n("c6b6"),o=n("b622"),c=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==a(t))}},"4ca9":function(t,e,n){"use strict";n("77e0")},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),o=n("9bdd"),c=n("e95a"),i=n("50c4"),s=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,f,b,v=a(t),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,_=void 0!==m,E=u(v),g=0;if(_&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==E||p==Array&&c(E))for(e=i(v.length),n=new p(e);e>g;g++)b=_?m(v[g],g):v[g],s(n,g,b);else for(d=E.call(v),f=d.next,n=new p;!(l=f.call(d)).done;g++)b=_?o(d,m,[l.value,g],!0):l.value,s(n,g,b);return n.length=g,n}},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},7045:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mt-5"},[n("h1",{staticClass:"text-uppercase pt-4 text-center"},[t._v("Reenviar Encuesta")]),n("hr",{staticClass:"double"}),n("b-form",[n("div",{staticClass:"grupo mb-5"},[n("b-form-group",{attrs:{id:"input-group-1",label:"Selecciona Servicio de Salud","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",required:""},on:{change:function(e){return t.getEstablecimiento()}},model:{value:t.servicio,callback:function(e){t.servicio=e},expression:"servicio"}},[t._l(t.serviciosalud,(function(e){return n("b-form-select-option",{key:e.servicio_id,attrs:{value:e.servicio_id}},[t._v(t._s(e.servicio_nombre))])}))],2)],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Selecciona Establecimiento","label-for":"input-2"}},[n("b-form-select",{attrs:{id:"input-2",required:""},on:{change:function(e){t.mostrarEncuesta(),t.getUnidad(),t.getTipoEncuesta(),t.disabled=!1}},model:{value:t.establecimiento,callback:function(e){t.establecimiento=e},expression:"establecimiento"}},[t._l(t.establecimientos,(function(e){return n("b-form-select-option",{key:e.establecimiento_id,attrs:{value:e.establecimiento_id}},[t._v(t._s(e.establecimiento_nombre))])}))],2)],1),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.disabled},on:{click:function(e){e.preventDefault(),t.mostrarEncuesta(),t.mostrar=!0}}},[t._v("Filtrar")])],1),t.mostrar?n("div",{staticClass:"grupo2"},[n("b-form-group",{attrs:{id:"input-group-3",label:"Selecciona Unidad","label-for":"input-3"}},[n("b-form-select",{attrs:{id:"input-3"},on:{change:function(e){return t.mostrarEncuesta()}},model:{value:t.unidad,callback:function(e){t.unidad=e},expression:"unidad"}},[t._l(t.unidades,(function(e){return n("b-form-select-option",{key:e.unidad_id,attrs:{value:e.unidad_id}},[t._v(t._s(e.unidad_nombre))])}))],2)],1),n("b-form-group",{attrs:{id:"input-group-4",label:"Selecciona tipo de Encuesta","label-for":"input-4"}},[n("b-form-select",{attrs:{id:"input-4"},on:{change:function(e){return t.mostrarEncuesta()}},model:{value:t.encuesta,callback:function(e){t.encuesta=e},expression:"encuesta"}},[t._l(t.encuestas,(function(e){return n("b-form-select-option",{key:e.encuesta_id,attrs:{value:e.encuesta_id}},[t._v(t._s(e.encuesta_glosa))])}))],2)],1)],1):t._e(),t.mostrar?n("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.reenviarEncuesta()}}},[n("table",{staticClass:"table b-table table-striped b-table-stacked-md table-outlined"},[n("thead",[n("tr",[n("th",[t._v("Nombre de Encuesta"),n("br")]),n("th",[t._v("Nombre de Establecimiento"),n("br")]),n("th",[t._v("Nombre de Unidad"),n("br")]),n("th",[t._v("Estado"),n("br")]),n("th",[t._v("Reenviar "),n("br"),n("b-form-checkbox",{model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}})],1)])]),n("tbody",t._l(t.datos,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.encuesta_glosa))]),n("td",[t._v(t._s(e.establecimiento_nombre))]),n("td",[t._v(t._s(e.unidad_nombre))]),n("td",[t._v(t._s(e.estado_envio))]),n("td",[n("b-form-checkbox",{attrs:{value:e,number:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[n("br")])],1)])})),0)]),t.mostrar?n("div",{staticClass:"my-4 text-center"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",method:"post"}},[n("i",{staticClass:"fas fa-paper-plane mr-2",attrs:{"data-v-7aa65f88":""}}),t._v(" Reenviar ")]),t._v(" "),n("button",{staticClass:"btn btn-dark",attrs:{type:"reset"},on:{click:function(e){return e.preventDefault(),t.onReset(e)}}},[t._v(" Limpiar")]),t.seen?n("div",{staticClass:"alert alert-info my-3",attrs:{role:"alert"}},[t._v(" La encuesta ha sido reenviada! ")]):t._e()]):t._e()]):t._e()])],1)},a=[],o=n("1da1");n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("277d"),n("fb6a"),n("b0c0"),n("a630");function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function s(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,o=t},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}n("96cf"),n("caad"),n("2532"),n("4160"),n("159b"),n("99af");var u=n("2b0e"),l=n("bc3a"),d=n.n(l),f=u["default"].extend({name:"ReenviarEncuesta",data:function(){return{mostrar:!1,disabled:!0,servicio:null,serviciosalud:[],establecimiento:null,establecimientos:[],unidad:null,unidades:[],encuesta:null,encuestas:[],datos:[],estado_envio:null,checked:[],seen:!1,estadoEnvio:[]}},computed:{selectAll:{get:function(){if(console.log(this.checked),this.datos&&this.datos.length>0){var t,e=!1,n=s(this.datos);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.checked.includes(r.envio_id)?this.allChecked=!1:this.allChecked=!0,!e)break}}catch(a){n.e(a)}finally{n.f()}return e}return!1},set:function(t){var e=[];t?this.datos.forEach((function(t){e.push(t.envio_id)})):this.checked=[],console.log(e),this.checked=e}}},methods:{getServicioSalud:function(){var t=this;d.a.get("http://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IP,":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PUERTO,"/ugcc-encuestas/obtener-servicios-salud/")).then((function(e){t.serviciosalud=e.data.data}))["catch"]((function(t){console.log(t+"No se pueden encontrar servicios de salud relacionados")}))},getEstablecimiento:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("http://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IP,":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PUERTO,"/ugcc-encuestas/obtener-establecimientos/")+this.servicio).then((function(t){return n.establecimientos=t.data.data}));case 3:e=t.sent,console.log(e),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert("No se pueden encontrar establecimiento de salud relacionados");case 10:case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getUnidad:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("http://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IP,":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PUERTO,"/ugcc-encuestas/obtener-unidades/")+this.establecimiento).then((function(t){return n.unidades=t.data.data}));case 3:e=t.sent,console.log(e),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert("No se pueden encontrar unidades relacionadas");case 10:case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getTipoEncuesta:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("http://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IP,":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PUERTO,"/ugcc-encuestas/obtener-tipos-encuestas")).then((function(t){return n.encuestas=t.data.data}));case 3:e=t.sent,console.log(e),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert("No se pueden encontrar tipo de encuestas relacionadas");case 10:case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),mostrarEncuesta:function(){var t=this;d()({method:"post",url:"http://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IP,":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PUERTO,"/ugcc-encuestas/obtener-encuestas-reenvio"),data:{establecimiento_id:this.establecimiento,unidad_id:this.unidad,encuesta_id:this.encuesta,estado_envio:this.estado_envio}}).then((function(e){t.datos=e.data.data,t.mostrar}))["catch"]((function(t){console.log(t)}))},reenviarEncuesta:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],r=s(e.checked);try{for(r.s();!(a=r.n()).done;)o=a.value,c=o.encuesta_id,i=o.envio_id,n.push({envio_id:i,encuesta_id:c})}catch(u){r.e(u)}finally{r.f()}console.log(n),e.seen=!0,d()({method:"post",url:"http://".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IP,":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PUERTO,"/ugcc-encuestas/reenviar-encuestas"),data:n}).then((function(t){return console.log(t)}))["catch"]((function(t){return console.error("Error:",t)})).then((function(t){return console.log("Success:",t)}));case 6:case"end":return t.stop()}}),t)})))()},onReset:function(t){t.preventDefault(),this.unidades=[],this.encuestas=[],this.datos=[]}},created:function(){this.mostrarEncuesta()},mounted:function(){this.getServicioSalud()}}),b=f,v=(n("4ca9"),n("2877")),p=Object(v["a"])(b,r,a,!1,null,"8d51f616",null);e["default"]=p.exports},"77e0":function(t,e,n){},"9bdd":function(t,e,n){var r=n("825a"),a=n("2a62");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(c){throw a(t),c}}},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),o=n("1c7e"),c=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:c},{from:a})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,n){var r=n("b622"),a=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(r){}}return!1}},baf1:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("EncuestasHtml",{attrs:{datoEncuesta:t.datos,encuesta_id:t.encuesta_id}})],1)},a=[],o=n("2b0e"),c=n("417f"),i=o["default"].extend({name:"EncuestaUEH",components:{EncuestasHtml:c["a"]},props:{datoEncuesta:{type:Array}},data:function(){return{encuesta_id:2,datos:[]}}}),s=i,u=n("2877"),l=Object(u["a"])(s,r,a,!1,null,null,null);e["default"]=l.exports},caad:function(t,e,n){"use strict";var r=n("23e7"),a=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},fb6a:function(t,e,n){"use strict";var r=n("23e7"),a=n("861d"),o=n("e8b5"),c=n("23cb"),i=n("50c4"),s=n("fc6a"),u=n("8418"),l=n("b622"),d=n("1dde"),f=d("slice"),b=l("species"),v=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,r,l,d=s(this),f=i(d.length),h=c(t,f),m=c(void 0===e?f:e,f);if(o(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(d,h,m);for(r=new(void 0===n?Array:n)(p(m-h,0)),l=0;h<m;h++,l++)h in d&&u(r,l,d[h]);return r.length=l,r}})}}]);
//# sourceMappingURL=encuestacamaueh.d81bc853.js.map